<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8"/>
		<title>Class Interpreter</title>
		<link rel="stylesheet" type="text/css" href="../../../styles/ddox.css"/>
		<link rel="stylesheet" href="../../../prettify/prettify.css" type="text/css"/>
		<script type="text/javascript" src="../../../scripts/jquery.js">/**/</script><script type="text/javascript" src="../../../scripts/ddox.js">/**/</script>
	</head>
	<body onload="setupDdox();">
		<nav id="main-nav">
			<noscript>
				<p style="color: red">The search functionality needs JavaScript enabled</p>
			</noscript>
			<div id="symbolSearchPane" style="display: none">
				<form action="#" method="GET">
					<input id="symbolSearch" type="text" name="q" placeholder="Search for symbols" autocomplete="off" onchange="performSymbolSearch(40);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();"/>
				</form>
				<ul id="symbolSearchResults" class="symbolList" style="display: none"></ul><script type="application/javascript" src="../../../symbols.js"></script><script type="application/javascript">var symbolSearchRootDir = "../../../";
$('#symbolSearchPane').show();</script>
			</div>
			<ul class="tree-view">
				<li class="tree-view ">
					<div class="package ">quark
					</div>
			<ul class="tree-view">
				<li class="tree-view collapsed">
					<div class="package ">common
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../../quark/common/deque.html">deque</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/common/grid.html">grid</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/common/matrix.html">matrix</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/common/tree.html">tree</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/common/utils.html">utils</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/common/vector.html">vector</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view collapsed">
					<div class="package ">components
					</div>
			<ul class="tree-view">
				<li class="tree-view collapsed">
					<div class="package ">colliders
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../../quark/components/colliders/boxcollider.html">boxcollider</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/components/colliders/circlecollider.html">circlecollider</a>
					</div>
				</li>
			</ul>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/components/animator.html">animator</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/components/camera.html">camera</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/components/collider.html">collider</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/components/rigidbody.html">rigidbody</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/components/script.html">script</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/components/spriterenderer.html">spriterenderer</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/components/transform.html">transform</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view collapsed">
					<div class="package ">core
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../../quark/core/component.html">component</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/core/entity.html">entity</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/core/host.html">host</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/core/manager.html">manager</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/core/scene.html">scene</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view collapsed">
					<div class="package ">events
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../../quark/events/inbox.html">inbox</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/events/types.html">types</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/events/wiring.html">wiring</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view collapsed">
					<div class="package ">managers
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../../quark/managers/audiomanager.html">audiomanager</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/managers/debugmanager.html">debugmanager</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/managers/physicsmanager.html">physicsmanager</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/managers/resourcemanager.html">resourcemanager</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/managers/scenemanager.html">scenemanager</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view collapsed">
					<div class="package ">physics
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../../quark/physics/broadphase.html">broadphase</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/physics/collision.html">collision</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/physics/solver.html">solver</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/physics/world.html">world</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view ">
					<div class="package ">scripting
					</div>
			<ul class="tree-view">
				<li>
					<div class="module selected">
						<a href="../../../quark/scripting/interpreter.html">interpreter</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/scripting/lexer.html">lexer</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../../quark/scripting/parser.html">parser</a>
					</div>
				</li>
			</ul>
				</li>
			</ul>
				</li>
			</ul>
		</nav>
		<div id="main-contents">
			<h1>Class Interpreter</h1><p>Tree-walking interpreter for QScript.
</p>
			<div class="prototype">
				<code class="lang-d">
					<div class="single-prototype">
			<span class="kwd">class</span> <span class="typ">Interpreter</span><span class="pun">;</span>
					</div>
				</code>
			</div>
			<section><p>The interpreter evaluates an Abstract Syntax Tree by recursively visiting
 each node and performing the appropriate action. It manages variable scopes,
 function calls, control flow, and provides access to engine APIs through
 built-in functions.
</p>
</section>

			<section><h2>Constructors</h2>
				<table>
					<col class="caption"/>
					<tr>
						<th>Name</th><th>Description</th>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter.this.html" class="public">
								<code>this</code>
							</a>
							<span class="tableEntryAnnotation">()</span>
						</td>
						<td>Creates a new interpreter.
</td>
					</tr>
				</table>
			</section>
			<section><h2>Fields</h2>
				<table>
					<col class="caption"/>
					<tr>
						<th>Name</th><th>Type</th><th>Description</th>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._currentEnv.html" class="private"><code>_currentEnv</code></a>
						</td>
						<td class="typecol"><code class="prettyprint lang-d"><a href="../../../quark/scripting/interpreter/Environment.html"><span class="typ">Environment</span></a></code></td><td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._errorMessage.html" class="private"><code>_errorMessage</code></a>
						</td>
						<td class="typecol"><code class="prettyprint lang-d"><span class="typ">string</span></code></td><td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._globalEnv.html" class="private"><code>_globalEnv</code></a>
						</td>
						<td class="typecol"><code class="prettyprint lang-d"><a href="../../../quark/scripting/interpreter/Environment.html"><span class="typ">Environment</span></a></code></td><td></td>
					</tr>
				</table>
			</section>
			<section><h2>Properties</h2>
				<table>
					<col class="caption"/>
					<tr>
						<th>Name</th><th>Type</th><th>Description</th>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter.errorMessage.html" class="public property"><code>errorMessage</code></a><span class="tableEntryAnnotation">[get]</span>
						</td>
						<td class="typecol"><code class="prettyprint lang-d"><span class="typ">string</span></code></td><td>Gets the error message if execution failed.
</td>
					</tr>
				</table>
			</section>
			<section><h2>Methods</h2>
				<table>
					<col class="caption"/>
					<tr>
						<th>Name</th><th>Description</th>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._loadContext.html" class="public">
								<code>_loadContext</code>
							</a>
							<span class="tableEntryAnnotation">(contextProgram)</span>
						</td>
						<td>Loads variables and functions from a context script into the current environment.
 The context script is parsed but not executed.
</td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter.execute.html" class="public">
								<code>execute</code>
							</a>
							<span class="tableEntryAnnotation">(program, contextProgram)</span>
						</td>
						<td>Executes a program AST.
</td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter.executeSource.html" class="public">
								<code>executeSource</code>
							</a>
							<span class="tableEntryAnnotation">(source, contextSource)</span>
						</td>
						<td>Convenience method to execute QScript source code.
</td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter.reinterpretScript.html" class="public">
								<code>reinterpretScript</code>
							</a>
							<span class="tableEntryAnnotation">(source)</span>
						</td>
						<td>Re-interprets a script to update the global environment without executing it.
 This is used to keep the environment synchronized with script changes.
</td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._areEqual.html" class="private">
								<code>_areEqual</code>
							</a>
							<span class="tableEntryAnnotation">(left, right)</span>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._callUserFunction.html" class="private">
								<code>_callUserFunction</code>
							</a>
							<span class="tableEntryAnnotation">(func, args)</span>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._error.html" class="private">
								<code>_error</code>
							</a>
							<span class="tableEntryAnnotation">(message)</span>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._evaluateBinary.html" class="private">
								<code>_evaluateBinary</code>
							</a>
							<span class="tableEntryAnnotation">(binary)</span>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._evaluateExpression.html" class="private">
								<code>_evaluateExpression</code>
							</a>
							<span class="tableEntryAnnotation">(expr)</span>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._evaluateFunctionCall.html" class="private">
								<code>_evaluateFunctionCall</code>
							</a>
							<span class="tableEntryAnnotation">(funcCall)</span>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._evaluateIdentifier.html" class="private">
								<code>_evaluateIdentifier</code>
							</a>
							<span class="tableEntryAnnotation">(identifier)</span>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._evaluateLiteral.html" class="private">
								<code>_evaluateLiteral</code>
							</a>
							<span class="tableEntryAnnotation">(literal)</span>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._evaluateUnary.html" class="private">
								<code>_evaluateUnary</code>
							</a>
							<span class="tableEntryAnnotation">(unary)</span>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._executeAssignment.html" class="private">
								<code>_executeAssignment</code>
							</a>
							<span class="tableEntryAnnotation">(assignment)</span>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._executeBlock.html" class="private">
								<code>_executeBlock</code>
							</a>
							<span class="tableEntryAnnotation">(block)</span>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._executeFor.html" class="private">
								<code>_executeFor</code>
							</a>
							<span class="tableEntryAnnotation">(forStmt)</span>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._executeFunctionDef.html" class="private">
								<code>_executeFunctionDef</code>
							</a>
							<span class="tableEntryAnnotation">(funcDef)</span>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._executeIf.html" class="private">
								<code>_executeIf</code>
							</a>
							<span class="tableEntryAnnotation">(ifStmt)</span>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._executeReturn.html" class="private">
								<code>_executeReturn</code>
							</a>
							<span class="tableEntryAnnotation">(returnStmt)</span>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._executeStatement.html" class="private">
								<code>_executeStatement</code>
							</a>
							<span class="tableEntryAnnotation">(stmt)</span>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._executeVarDecl.html" class="private">
								<code>_executeVarDecl</code>
							</a>
							<span class="tableEntryAnnotation">(varDecl)</span>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._executeWhile.html" class="private">
								<code>_executeWhile</code>
							</a>
							<span class="tableEntryAnnotation">(whileStmt)</span>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<a href="../../../quark/scripting/interpreter/Interpreter._registerBuiltins.html" class="private">
								<code>_registerBuiltins</code>
							</a>
							<span class="tableEntryAnnotation">()</span>
						</td>
						<td></td>
					</tr>
				</table>
			</section><section><h2>Example</h2>
<p>Test simple arithmetic.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="str">"var x = 5 + 3;"</span><span class="pun">), </span><span class="str">"Should execute successfully"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test variable assignment and retrieval.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="str">"var x = 10; x = x + 5;"</span><span class="pun">), </span><span class="str">"Should execute successfully"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test function definition and call.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">code </span><span class="pun">= </span><span class="str">"func add(a, b) { return a + b; } var result = add(3, 4);"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">code</span><span class="pun">), </span><span class="str">"Should execute successfully"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test if statement.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">code </span><span class="pun">= </span><span class="str">"var x = 10; if (x &gt; 5) { x = 20; }"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">code</span><span class="pun">), </span><span class="str">"Should execute successfully"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test if-else statement.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">code </span><span class="pun">= </span><span class="str">"var x = 3; if (x &gt; 5) { x = 10; } else { x = 1; }"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">code</span><span class="pun">), </span><span class="str">"Should execute successfully"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test while loop.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">code </span><span class="pun">= </span><span class="str">"var i = 0; while (i &lt; 5) { i = i + 1; }"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">code</span><span class="pun">), </span><span class="str">"Should execute successfully"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test for loop.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">code </span><span class="pun">= </span><span class="str">"var sum = 0; for (var i = 0; i &lt; 5; i = i + 1) { sum = sum + i; }"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">code</span><span class="pun">), </span><span class="str">"Should execute successfully"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test nested scopes.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">code </span><span class="pun">= </span><span class="str">"var x = 1; { var y = 2; x = x + y; }"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">code</span><span class="pun">), </span><span class="str">"Should execute successfully"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test string concatenation.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">code </span><span class="pun">= </span><span class="str">"var s = \"Hello\" + \" \" + \"World\";"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">code</span><span class="pun">), </span><span class="str">"Should execute successfully"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test boolean operations.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">code </span><span class="pun">= </span><span class="str">"var b = true &amp;&amp; false || true;"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">code</span><span class="pun">), </span><span class="str">"Should execute successfully"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test comparison operators.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">code </span><span class="pun">= </span><span class="str">"var b1 = 5 &gt; 3; var b2 = 5 &lt;= 10; var b3 = 5 == 5;"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">code</span><span class="pun">), </span><span class="str">"Should execute successfully"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test unary operators.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">code </span><span class="pun">= </span><span class="str">"var x = -5; var b = !true;"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">code</span><span class="pun">), </span><span class="str">"Should execute successfully"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test built-in print function.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">code </span><span class="pun">= </span><span class="str">"print(\"Hello, World!\");"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">code</span><span class="pun">), </span><span class="str">"Should execute successfully"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test built-in math functions.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">code </span><span class="pun">= </span><span class="str">"var x = sqrt(16); var y = abs(-5); " </span><span class="pun">~
              </span><span class="str">"print(\"sqrt(16) is\", x); " </span><span class="pun">~
              </span><span class="str">"print(\"abs(-5) is\", y);"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">code</span><span class="pun">), </span><span class="str">"Should execute successfully"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test built-in typeof function.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="com">// a bit hacky since the interpreter itself doesn't support
// escaped quotes, so use single quotes for the print part
</span><span class="typ">string </span><span class="pln">code </span><span class="pun">= </span><span class="str">"var t1 = typeof(5); var t2 = typeof(\"hello\");" </span><span class="pun">~
              </span><span class="str">"print(\"typeof(5) is\", t1);" </span><span class="pun">~
              </span><span class="str">"print(\"typeof('hello') is\", t2);"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">code</span><span class="pun">), </span><span class="str">"Should execute successfully"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test error on undefined variable.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">code </span><span class="pun">= </span><span class="str">"var x = y + 1;"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(!</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">code</span><span class="pun">), </span><span class="str">"Should fail on undefined variable"</span><span class="pun">);
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">errorMessage<wbr/></span><span class="pun">.</span><span class="pln">length </span><span class="pun">&gt; </span><span class="lit">0</span><span class="pun">, </span><span class="str">"Should have error message"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test error on undefined function.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">code </span><span class="pun">= </span><span class="str">"foo();"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(!</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">code</span><span class="pun">), </span><span class="str">"Should fail on undefined function"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test error on division by zero.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">code </span><span class="pun">= </span><span class="str">"var x = 10 / 0;"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(!</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">code</span><span class="pun">), </span><span class="str">"Should fail on division by zero"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test error on wrong argument count.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">code </span><span class="pun">= </span><span class="str">"func add(a, b) { return a + b; } var x = add(1);"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(!</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">code</span><span class="pun">), </span><span class="str">"Should fail on wrong argument count"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test recursive function.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">code </span><span class="pun">= </span><span class="str">"func fib(n) { if (n &lt;= 1) { return n; } " </span><span class="pun">~
              </span><span class="str">"return fib(n - 1) + fib(n - 2); } var x = fib(6);"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">code</span><span class="pun">), </span><span class="str">"Should execute successfully"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test function with no return.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">code </span><span class="pun">= </span><span class="str">"func test() { var x = 1; } test();"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">code</span><span class="pun">), </span><span class="str">"Should execute successfully"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test context script with variable declarations.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">context </span><span class="pun">= </span><span class="str">"var globalVar = 42; var contextStr = \"from context\";"</span><span class="pun">;
</span><span class="typ">string </span><span class="pln">main </span><span class="pun">= </span><span class="str">"var result = globalVar + 8; print(contextStr);"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">main</span><span class="pun">, </span><span class="pln">context</span><span class="pun">), </span><span class="str">"Should execute with context successfully"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test context script with function definitions.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">context </span><span class="pun">= </span><span class="str">"func helper(x) { return x * 2; } var baseValue = 10;"</span><span class="pun">;
</span><span class="typ">string </span><span class="pln">main </span><span class="pun">= </span><span class="str">"var doubled = helper(baseValue); print(\"Result:\", doubled);"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">main</span><span class="pun">, </span><span class="pln">context</span><span class="pun">), </span><span class="str">"Should execute with context functions successfully"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test context script does not execute statements.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="com">// Context has a print that shouldn't execute
</span><span class="typ">string </span><span class="pln">context </span><span class="pun">= </span><span class="str">"var x = 5; print(\"This should not print\");"</span><span class="pun">;
</span><span class="typ">string </span><span class="pln">main </span><span class="pun">= </span><span class="str">"print(\"x from context is:\", x);"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">main</span><span class="pun">, </span><span class="pln">context</span><span class="pun">), </span><span class="str">"Should load context without executing statements"</span><span class="pun">);
</span></code></pre>
</section>
<section><h2>Example</h2>
<p>Test empty context script.
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">interp </span><span class="pun">= </span><span class="kwd">new </span><span class="typ">Interpreter</span><span class="pun">();
</span><span class="typ">string </span><span class="pln">main </span><span class="pun">= </span><span class="str">"var x = 10; print(x);"</span><span class="pun">;
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">main</span><span class="pun">, </span><span class="str">""</span><span class="pun">), </span><span class="str">"Should handle empty context script"</span><span class="pun">);
</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">interp<wbr/></span><span class="pun">.</span><span class="pln">executeSource</span><span class="pun">(</span><span class="pln">main</span><span class="pun">, </span><span class="kwd">null</span><span class="pun">), </span><span class="str">"Should handle null context script"</span><span class="pun">);
</span></code></pre>
</section>

			<footer>
				<table class="license-info">
					<tr>
						<th>Authors</th>
						<td>
							
						</td>
					</tr>
					<tr>
						<th>Copyright</th>
						<td>
							
						</td>
					</tr>
					<tr>
						<th>License</th>
						<td>
							
						</td>
					</tr>
				</table>
				<p class="faint">Generated using the DDOX documentation generator</p>
			</footer>
		</div>
	</body>
</html>